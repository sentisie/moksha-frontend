@import "../../styles/media";

.form {
	display: flex;
	align-items: center;
	overflow: visible;
	width: 100%;
	height: 3.625rem;
	border-radius: 1rem;
	transition: all 0.1s ease;
	background-color: var(--secondary-accent-color);
	position: relative;
	z-index: 30;

	.button {
		background-color: var(--secondary-accent-color);
		background-image: url("data:image/svg+xml,%3Csvg width='18' height='17' viewBox='0 0 18 17' fill='none' xmlns='http://www.w3.org/2000/svg' %3E%3Cpath fillRule='evenodd' clipRule='evenodd' d='M6.41196 12.0999L1.92259 16.5892C1.59715 16.9147 1.06951 16.9147 0.744078 16.5892C0.418641 16.2638 0.418641 15.7362 0.744078 15.4107L5.23345 10.9214C4.3559 9.79246 3.83333 8.37392 3.83333 6.83332C3.83333 3.15142 6.8181 0.166656 10.5 0.166656C14.1819 0.166656 17.1667 3.15142 17.1667 6.83332C17.1667 10.5152 14.1819 13.5 10.5 13.5C8.95941 13.5 7.54087 12.9774 6.41196 12.0999ZM10.5 11.8333C13.2614 11.8333 15.5 9.59475 15.5 6.83332C15.5 4.0719 13.2614 1.83332 10.5 1.83332C7.73858 1.83332 5.5 4.0719 5.5 6.83332C5.5 9.59475 7.73858 11.8333 10.5 11.8333Z' fill='%23fff' /%3E%3C/svg%3E");
		background-repeat: no-repeat;
		background-position: center;
		background-size: 24px;
		border: none;
		border-radius: 1rem;
		min-width: 4.0625rem;
		height: 100%;
		transition: all 0.1s ease;
		cursor: pointer;
	}

	input {
		background-color: var(--main-bg-color);
		border-radius: 1rem;
		max-width: 55.75rem;
		width: 100%;
		height: 100%;
		padding: 0.25rem 1.5rem;
		color: var(--main-text-color);
		border: none;
		transition: all 0.1s ease;
		caret-color: var(--hover-accent-color);
		&:focus {
			outline: none;
		}
		&::-webkit-search-cancel-button {
			-webkit-appearance: none;
			appearance: none;
		}
		&:not(:placeholder-shown) + .clearButton {
			display: block;
		}
	}

	.clearButton {
		width: 2.25rem;
		height: 2.25rem;
		position: absolute;
		right: 80px;
		top: 50%;
		transform: translateY(-50%);
		background: none;
		border: none;
		cursor: pointer;
		font-size: 1rem;
		display: none;

		&:hover::before,
		&:hover::after {
			background-color: var(--main-text-color);
		}

		&::before {
			background-color: var(--icon-color);
			content: "";
			display: block;
			left: 50%;
			position: absolute;
			top: 50%;
			transform: translate(-50%, -50%) translateZ(0) rotate(45deg);
			transition: background 0.3s ease 0s;
			height: 18px;
			width: 2px;
			right: 20px;
		}

		&::after {
			background-color: var(--icon-color);
			content: "";
			display: block;
			left: 50%;
			position: absolute;
			top: 50%;
			transform: translate(-50%, -50%) translateZ(0) rotate(45deg);
			transition: background 0.3s ease 0s;
			height: 2px;
			width: 18px;
		}
	}

	.box {
		width: 100%;
		padding: 1rem 1.5rem;
		border-radius: 1rem 0.375rem 0.375rem 1rem;
		background-color: var(--main-bg-color);
		position: absolute;
		top: 4.2rem;
		overflow: hidden;
		z-index: 30;
		color: var(--main-text-color);
		max-height: 32.5rem;
		overflow-y: auto;

		h4 {
			color: var(--icon-color);
			margin-bottom: 12px;
			font-weight: 600;
		}

		.history {
			margin-bottom: 1rem;
		}

		.history,
		.products {
			ul {
				li {
					&:not(:last-child) {
						margin-bottom: 0.625rem;
					}
					a {
						display: flex;

						.left {
							display: flex;
							gap: 1rem;
							width: 100%;
							align-items: center;
							div {
								font-size: 0.875rem;
							}
						}
						.removeButton {
							width: 2.25rem;
							height: 2.25rem;
							position: relative;
							background: none;
							border: none;
							cursor: pointer;
							font-size: 1rem;
							color: var(--main-text-color);

							&:hover::before,
							&:hover::after {
								background-color: var(--main-text-color);
							}

							&::before {
								background-color: var(--icon-color);
								content: "";
								display: block;
								left: 50%;
								position: absolute;
								top: 50%;
								transform: translate(-50%, -50%) translateZ(0) rotate(45deg);
								transition: background 0.3s ease 0s;
								height: 18px;
								width: 2px;
								right: 20px;
							}

							&::after {
								background-color: var(--icon-color);
								content: "";
								display: block;
								left: 50%;
								position: absolute;
								top: 50%;
								transform: translate(-50%, -50%) translateZ(0) rotate(45deg);
								transition: background 0.3s ease 0s;
								height: 2px;
								width: 18px;
							}
						}
					}
				}
			}
		}

		.products {
			li {
				div {
					font-size: 0.875rem;
				}
				&:not(:last-child) {
					margin-bottom: 0.75rem;
				}
			}
		}

		a {
			display: flex;
			align-items: center;
			gap: 1rem;
			background-color: var(--main-bg-color);
			border-radius: 16px;
			transition: 0.2s ease;

			@include hover {
				background-color: var(--inactive-bg-color);
			}

			.image {
				max-width: 60px;
				width: 100%;
				height: 60px;
				border-radius: 12px;
				background-position: center center;
				background-repeat: no-repeat;
				background-size: cover;
			}
		}
	}
}
